<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/zhuce.css">
   
</head>
<body>
    <iframe src="./toubu/头部.html" frameborder="0" class="if"></iframe>
    <div class="zhuce">
        <div class="zhu_tou">
                <p>注册极果</p>
        </div>
        <div class="for">
            <div class="for_1">
           <input type="text" placeholder="请输入登录手机号" id="inp1">
           <span></span>
            </div>
             <div class="for_2"> 
                <input type="text" placeholder="请输入图片效验码" id="inp2">
                <img src="img/imgCode.jpg" width="132" height="35">
                <span></span>
            </div>
             <div class="for_3">
                    <input type="text" placeholder="请输入4位数字验证码" id="inp3">
                    <button>获取验证码</button>
                    <span></span>
                </div>
             <div class="for_4">
                         <input type="text" placeholder="请输入用户名" id="inp4">
                         <span></span>
                        </div>
             <div class="for_5">
                     <input type="password" placeholder="请输入新密码" id="inp5">
                     <span></span>
                    </div>
             <div class="for_6">
              <input type="password" placeholder="确定密码" id="inp6">
              <span></span>
            </div>
             <div class="for_7">
              <button id="inp7">点击注册</button>
             </div>
        </div>
    </div>
    <iframe src="./dibu/底部.html" frameborder="0" class="iff"></iframe>
</body>
</html>

<script src="./yinyong/myCookie.js"></script>

<script>
    var in1=document.getElementById('inp1');
    var sp=document.getElementsByTagName('span');
    in1.onblur=function(){
        reg1=/^(0|86|17951)?(13[0-9]|15[012356789]|166|17[3678]|18[0-9]|14[57])[0-9]{8}$/;
       if(in1.value==''){
        sp[0].innerHTML='不能为空';
        sp[0].className='sp';
       }else if(reg1.test(in1.value)){
       
             sp[0].innerHTML='输入正确';
             sp[0].className='spp';
            
       }else{
        sp[0].innerHTML='输入错误';
        sp[0].className='sp';
       }
    }

    var in2=document.getElementById('inp2');
     in2.onblur=function(){
        if(in2.value==''){
              sp[1].innerHTML='不能为空';
              sp[1].className='sp';
        }else if(in2.value=='r2b7'){
             
            sp[1].innerHTML='输入正确';
             sp[1].className='spp';
        }else{
            sp[1].innerHTML='输入错误';
        sp[1].className='sp';
        }
     }

     var but=document.getElementsByTagName('button')[0];
     var sum=10;
     var item=null;
       but.onclick=function(){
        clearInterval(item);
        item=setInterval(function(){
          sum--;
          but.innerHTML=sum;
          if(sum==5){
            num= Math.floor(Math.random()*(9999-1000))+1000;
                alert(num);
          }
          if(sum<=0){
              clearInterval(item);
              but.innerHTML='重新获取验证码';
          }
        },1000)

        

       }
     var in3=document.getElementById('inp3');
     in3.onblur=function(){
        if(in3.value==''){
              sp[2].innerHTML='不能为空';
              sp[2].className='sp';
        }else if(in3.value==num){
             
            sp[2].innerHTML='输入正确';
             sp[2].className='spp';
        }else{
            sp[2].innerHTML='输入错误';
        sp[2].className='sp';
        }
     }

     var in4=document.getElementById('inp4');

     in4.onblur=function(){
         reg2=/^\w+$/;
        if(in4.value==''){
              sp[3].innerHTML='不能为空';
              sp[3].className='sp';
        }else if(reg2.test(in4.value)){
             
            sp[3].innerHTML='输入正确';
             sp[3].className='spp';
        }else{
            sp[3].innerHTML='输入错误';
        sp[3].className='sp';
        }
     }

     var in5=document.getElementById('inp5');

     in5.onblur=function(){
         reg3=/^\w{6,8}$/;
        if(in5.value==''){
              sp[4].innerHTML='不能为空';
              sp[4].className='sp';
        }else if(reg3.test(in5.value)){
             
            sp[4].innerHTML='输入正确';
             sp[4].className='spp';
        }else{
            sp[4].innerHTML='输入错误';
        sp[4].className='sp';
        }
     }

     var in6=document.getElementById('inp6');

     in6.onblur=function(){
        if(in5.value==''){
              sp[5].innerHTML='不能为空';
              sp[5].className='sp';
        }else if(in5.value==in6.value){
             
            sp[5].innerHTML='输入正确';
             sp[5].className='spp';
        }else{
            sp[5].innerHTML='输入错误';
        sp[5].className='sp';
        }
     }

     var in7=document.getElementById('inp7');

     in7.onclick=function(){
        if(reg1.test(in1.value)&&in2.value=='r2b7'&&in3.value==num&&reg2.test(in4.value)&&reg3.test(in5.value)&&in5.value==in6.value){
              setCookie('手机号',in1.value);
        setCookie('密码',in5.value);
        window.location.href='./denglu.html';
        }
        
     }
</script>